(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a48d296e"],{"5d6d":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",[o("v-card-title",[t._v("\n      게시판\n      "),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-heart",label:"검색어입력","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),o("v-snackbar",{attrs:{timeout:1e4,top:"","multi-line":"",color:"error",dark:"",icon:"mdi-alert-circle-outline",transition:"scale-transition"},model:{value:t.confirm_,callback:function(e){t.confirm_=e},expression:"confirm_"}},[t._v("\n      "+t._s(t.confirmText)+"\n      "),o("v-btn",{attrs:{flat:"",color:"error"},on:{click:function(e){return t.confirmYes(t.item)}}},[t._v("네")]),o("v-btn",{attrs:{flat:"",color:"error"},on:{click:t.confirmNo}},[t._v("아니요")])],1),o("v-data-table",{staticClass:"elevation-1",staticStyle:{"border-top":"1px black solid","border-bottom":"1px black solid"},attrs:{headers:t.headers,items:t.posts,search:t.search,page:t.page,"items-per-page":12,"hide-default-footer":""},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"item.catagory",fn:function(e){var n=e.item;return[o("v-chip",{attrs:{color:t.getColor(n.catagory),dark:""}},[t._v("  "+t._s(n.catagory)+" ")])]}},{key:"item.title",fn:function(e){return[o("a",{staticStyle:{color:"black","text-align":"left",display:"block"},on:{click:function(o){return t.boardDetail(e.item)}}},[t._v("\n            "+t._s(e.item.title)+"\n        ")])]}}])}),o("div",{staticClass:"text-center pt-2"},[o("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),o("v-btn",{attrs:{bottom:"",color:"purple darken-4",dark:"",fab:"",fixed:"",right:""},on:{click:t.openAddModal}},[o("v-icon",[t._v("mdi-plus")])],1),o("v-dialog",{attrs:{width:"800px",persistent:""},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[o("v-snackbar",{attrs:{timeout:1e4,top:"","multi-line":"",persistent:"",color:"error",dark:"",icon:"mdi-alert-circle-outline",transition:"scale-transition"},model:{value:t.confirmComment,callback:function(e){t.confirmComment=e},expression:"confirmComment"}},[t._v("\n        "+t._s(t.confirmCommentText)+"\n        "),o("v-btn",{attrs:{flat:"",color:"error"},on:{click:t.confirmCommentYes}},[t._v("네")]),o("v-btn",{attrs:{flat:"",color:"error"},on:{click:t.confirmCommentNo}},[t._v("아니요")])],1),o("v-card",[o("v-system-bar",{attrs:{window:"",dark:""}},[o("span",[t._v("작성일 : "+t._s(t.form.createdAt))]),o("v-spacer"),t.user===t.form.writer?o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.openEditModal(t.form)}}},[t._v("\n              mdi-pencil\n            ")]):t._e(),t.user===t.form.writer?o("v-icon",{attrs:{small:""},on:{click:function(e){return t.deletePost(t.form)}}},[t._v("\n              mdi-delete\n            ")]):t._e(),o("v-btn",{attrs:{icon:"",dark:""}},[o("v-icon",{on:{click:t.modalClose2}},[t._v("mdi-close")])],1)],1),o("v-card-title",{staticStyle:{color:"white","background-color":"#230871"}},[t._v(t._s(t.form.title)+"\n        ")]),o("v-container",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"500px"},attrs:{id:"scroll-target"}},[o("v-layout",{attrs:{wrap:"",row:""}},[o("v-flex",[o("viewer",{staticClass:"ma-4",staticStyle:{"min-height":"300px"},attrs:{value:t.form.content}}),o("v-divider",{staticStyle:{"background-color":"#000000"}}),o("v-list",{attrs:{"three-line":""}},t._l(t.comments,(function(e){return o("v-list-item",{key:e.id,staticStyle:{"border-bottom":"1px grey dashed"}},[o("v-list-item-avatar",[o("v-icon",{attrs:{size:"80"}},[t._v(" mdi-account-circle")])],1),o("v-list-item-title",[o("strong",[t._v(t._s(e.writer))]),t._v(" "+t._s(e.createdAt)),o("v-list-item-content",[t._v(t._s(e.content)+" ")])],1),t.user===e.writer?o("v-icon",{attrs:{small:""},on:{click:function(o){return t.modCommentDialog(e)}}},[t._v("mdi-pencil\n            ")]):t._e(),t.user===e.writer?o("v-icon",{attrs:{small:"",right:""},on:{click:function(o){return t.deleteComment(e)}}},[t._v("mdi-delete\n            ")]):t._e()],1)})),1)],1)],1)],1),o("v-container",[o("v-text-field",{attrs:{label:"댓글 작성","append-outer-icon":"mdi-send"},on:{"click:append-outer":t.addComment},model:{value:t.commentAdd,callback:function(e){t.commentAdd=e},expression:"commentAdd"}})],1)],1)],1),o("v-dialog",{attrs:{width:"800px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"blue-grey",staticStyle:{border:"1px black solid"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}},[o("p",{staticClass:"font-weight-black",attrs:{id:"board"}},[t._v(" 게시판 ")])]),o("v-row",{staticClass:"ma-0"},[o("v-col",{staticClass:"align-center justify-space-between",attrs:{cols:"12"}},[o("v-row",{attrs:{align:"center"}},[o("v-avatar",{staticClass:"mr-4",attrs:{size:"40px"}}),o("v-form",{ref:"form",staticStyle:{width:"500px"},attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-text-field",{attrs:{placeholder:"제목을 입력해주세요",rules:t.titleRules},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1)],1),o("v-container",[o("editor",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),o("v-card-actions",[o("v-card-text",[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",[o("v-btn-toggle",{staticStyle:{"background-color":"grey"},attrs:{color:"deep-purple accent-3",rounded:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}},[o("v-btn",{attrs:{value:"left"},on:{click:t.setNormal}},[t._v("\n                    일반\n                  ")]),o("v-btn",{attrs:{value:"center"},on:{click:t.setNotice}},[t._v("\n                    공지\n                  ")])],1)],1)],1)],1),o("v-btn",{attrs:{color:"blue-grey"},on:{click:function(e){return t.saveClick()}}},[t._v("저장")]),o("v-btn",{attrs:{color:"blue-grey"},on:{click:t.modalClose}},[t._v("취소")])],1),o("v-snackbar",{attrs:{timeout:!1,top:"",persistent:"","multi-line":"",color:"blue lighten-2",dark:"",icon:"mdi-alert-circle-outline",transition:"scale-transition"},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n        "+t._s(t.alertText)+"\n        "),o("v-btn",{attrs:{flat:"",color:"blue lighten-2"},on:{click:t.alertConfirm}},[t._v("확인")])],1)],1)],1),o("v-dialog",{attrs:{width:"500"},model:{value:t.commentDialog,callback:function(e){t.commentDialog=e},expression:"commentDialog"}},[o("v-card",[o("v-card-title",{staticStyle:{color:"white","background-color":"#230871"}},[t._v("\n              댓글 수정\n             "),o("v-spacer"),o("v-icon",{attrs:{dark:""},on:{click:function(e){return t.modalClose3()}}},[t._v("\n        mdi-close\n        ")])],1),o("v-card-text",[o("v-text-field",{attrs:{label:"댓글 수정","append-outer-icon":"mdi-pencil"},on:{"click:append-outer":function(e){return t.modComment(t.item)}},model:{value:t.commentModify,callback:function(e){t.commentModify=e},expression:"commentModify"}})],1)],1)],1)],1)},a=[],r=(o("55dd"),o("bc3a")),i=o.n(r),s={props:{source:String},mounted:function(){var t=this;localStorage.token;this.user=localStorage.getItem("user"),i.a.get("http://192.168.0.201:3000/api/board",{}).then((function(e){var o=0;for(o=0;o<e.data.posts.length;o++){var n=e.data.posts[o].createdAt.substr(0,4),a=e.data.posts[o].createdAt.substr(5,2),r=e.data.posts[o].createdAt.substr(8,2),i=e.data.posts[o].createdAt.substr(11,2),s=e.data.posts[o].createdAt.substr(14,2),c=e.data.posts[o].createdAt.substr(17,2),l=n+"-"+a+"-"+r+" "+i+":"+s+":"+c,d=l instanceof Date?l:new Date(l),m=new Date;d=new Date(d.getFullYear(),d.getMonth()+1,d.getDate()),m=new Date(m.getFullYear(),m.getMonth()+1,m.getDate());var u=Math.abs(m.getTime()-d.getTime());u=Math.ceil(u/864e5),e.data.posts[o].createdAt=u<1?i+":"+s+":"+c:n+"-"+a+"-"+r+" "+i+":"+s+":"+c}t.posts=e.data.posts,t.posts.reverse(),t.posts.sort((function(t,e){return t.catagory<e.catagory?-1:1}))})).catch((function(t){console.error(t.message)}))},data:function(){return{totalItem:0,valid:!0,alertText:"",confirmText:"",confirmCommentText:"",general:"",catagory:"",id:"",name:"",user:"",comments:[],commentId:0,commentAdd:"",commentDialog:!1,commentModify:"",commentSell:null,boardId:0,snackbar:!1,timeout:999,dialog:!1,dialog2:!1,flag:"post",alert:!1,confirm_:!1,confirmComment:!1,page:1,pageCount:0,search:"",postCreateLink:[{to:{path:"/board/create"}}],getMd:"",headers:[{width:"100px",text:"말머리",sortable:!1,value:"catagory",align:"center"},{text:"번호",value:"id",align:"center",sortable:!1},{text:"제목",align:"center",sortable:!1,value:"title"},{text:"작성자",value:"writer",align:"center",sortable:!1},{text:"작성일",value:"createdAt",align:"center",sortable:!1},{text:"조회수",value:"views",sortable:!1,align:"center"}],form:{id:1,title:"",writer:"",content:"",createdAt:""},titleRules:[function(t){return!!t||"제목을 입력해주세요"}],copyPosts:[],posts:[{catagory:"fdfdf",id:"111",content:"fdfdfdfdf",title:"관리자",writer:"김민석",createdAt:222},{catagory:"fdfdf",id:"111",content:"fdfdfdfdf",title:"관리자",writer:"김민석",createdAt:222}]}},methods:{modCommentDialog:function(t){this.commentDialog=!0,this.commentId=t.id,this.commentModify=t.content,this.commentSell=t},addComment:function(){var t=this;i.a.post("http://192.168.0.201:3000/api/board/comment/add",{boardId:this.boardId,writer:this.user,content:this.commentAdd}).then((function(e){var o={content:t.commentAdd,boardId:t.boardId,id:e.data.comment.id,writer:t.user,createdAt:"New"};t.comments.push(o),t.commentAdd=""})).catch((function(e){t.alertText="에러가 발생했습니다",t.alert=!0,console.error(e.message)}))},deleteComment:function(t){this.confirmCommentText="정말 삭제하시겠습니까?",this.confirmComment=!0,this.commentId=t.id},modComment:function(){var t=this;this.commentSell.content=this.commentModify,this.commentDialog=!1,i.a.put("http://192.168.0.201:3000/api/board/comment",{id:this.commentId,content:this.commentSell.content}).then((function(e){var o=0;for(o=0;o<t.comments.length;o++)t.comments[o].id===t.commentId&&(t.comments[o].content=t.commentSell.content)})).catch((function(e){t.alertText="에러가 발생했습니다",t.alert=!0,console.error(e.message)}))},boardDetail:function(t){var e=this;if(t.views=t.views+1,this.boardId=t.id,this.form.id=t.id,this.form.title=t.title,this.form.writer=t.writer,this.form.content=t.content,console.log(this.form.content),t.createdAt.length<10){var o=new Date;console.log(o),this.form.createdAt=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+t.createdAt}else this.form.createdAt=t.createdAt;i.a.post("http://192.168.0.201:3000/api/board/comment",{boardId:t.id,views:t.views}).then((function(t){var o=0;for(console.log(t),o=0;o<t.data.comments.length;o++){var n=t.data.comments[o].createdAt.substr(0,4),a=t.data.comments[o].createdAt.substr(5,2),r=t.data.comments[o].createdAt.substr(8,2),i=t.data.comments[o].createdAt.substr(11,2),s=t.data.comments[o].createdAt.substr(14,2),c=t.data.comments[o].createdAt.substr(17,2),l=n+"-"+a+"-"+r+" "+i+":"+s+":"+c;t.data.comments[o].createdAt=l}e.comments=t.data.comments,console.log("aaaaa"),console.log(e.comments)})).catch((function(t){console.error(t.message)})),this.dialog2=!0},openEditModal:function(t){this.form.id=t.id,this.form.title=t.title,this.form.content=t.content,console.log(this.form.content),this.dialog2=!1,this.flag="put",this.dialog=!0},openAddModal:function(){this.flag="post",this.dialog=!0},saveClick:function(t){var e=this;this.form.title=this.form.title.trim(),this.form.content=this.form.content.trim(),this.form.title&&this.form.content&&("post"===this.flag?""!==this.catagory?i.a.post("http://192.168.0.201:3000/api/board",{catagory:this.catagory,title:this.form.title,writer:this.user,content:this.form.content,views:0}).then((function(t){e.alertText="게시글 생성이 완료되었습니다",e.alert=!0})).catch((function(t){e.alertText="에러가 발생했습니다",e.alert=!0,console.error(t.message)})):alert("말머리를 선택해주세요"):"put"===this.flag&&i.a.put("http://192.168.0.201:3000/api/board",{id:this.form.id,title:this.form.title,content:this.form.content}).then((function(t){e.alertText="게시글 수정이 완료되었습니다",e.alert=!0})).catch((function(t){e.alertText="에러가 발생했습니다",e.alert=!0,console.error(t.message)})))},deletePost:function(t){this.confirmText="정말 삭제하시겠습니까?",this.confirm_=!0,this.boardId=t.id},modalClose:function(){this.form.title="",this.form.content="",this.dialog=!1},modalClose2:function(){this.form.title="",this.form.content="",this.comments=[],this.dialog2=!1},modalClose3:function(){this.commentModify="",this.commentDialog=!1},getColor:function(t){return"공지"===t?"red":"grey"},setNormal:function(){this.catagory="일반"},setNotice:function(){this.catagory="공지"},isNew:function(t){console.log("isnew");var e=t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),o=new Date;e=new Date(e.getFullYear(),e.getMonth()+1,e.getDate()),o=new Date(o.getFullYear(),o.getMonth()+1,o.getDate());var n=Math.abs(o.getTime()-e.getTime());return n=Math.ceil(n/864e5),!!(n<3||isNaN(n))},customSort:function(t,e,o){return t.sort((function(t,e){return console.log("sort"),o?e.title-t.title:t.title-e.title})),t},alertConfirm:function(){this.alert=!1,location.href="/board"},confirmYes:function(t){var e=this;i.a.delete("http://192.168.0.201:3000/api/board",{data:{id:this.boardId}}).then((function(t){location.href="/board"})).catch((function(t){e.alertText="에러가 발생했습니다",e.alert=!0,console.error(t.message)}))},confirmNo:function(){this.confirm_=!1},confirmCommentYes:function(){var t=this;console.log("sdfsdf"),console.log(this.commentId),i.a.delete("http://192.168.0.201:3000/api/board/comment",{data:{id:this.commentId}}).then((function(e){var o=0;for(o=0;o<t.comments.length;o++)t.comments[o].id===t.commentId&&t.comments.splice(o,1);t.confirmComment=!1})).catch((function(e){t.alertText="에러가 발생했습니다",t.alert=!0,console.error(e.message)}))},confirmCommentNo:function(){this.confirmComment=!1}},components:{}},c=s,l=(o("fef6"),o("2877")),d=o("6544"),m=o.n(d),u=o("8212"),f=o("8336"),h=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),g=(o("7e58"),o("604c")),p=g["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return g["a"].options.computed.classes.call(this)}},methods:{genData:g["a"].options.methods.genData}}),v=o("a9ad"),b=o("58df");function y(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?y(o,!0).forEach((function(e){Object(h["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var k=Object(b["a"])(p,v["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return w({},p.options.computed.classes.call(this),{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,w({},p.options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}}),x=o("b0af"),C=o("99d9"),_=o("cc20"),A=o("62ad"),D=o("a523"),O=o("8fea"),j=o("169a"),S=o("ce7e6"),T=(o("20f6"),o("e8f2")),V=Object(T["a"])("flex"),I=o("4bd4"),M=o("132d"),P=Object(T["a"])("layout"),N=o("8860"),B=o("da13"),Y=o("8270"),F=o("5d23"),E=o("891e"),L=o("0fd9"),$=o("2db4"),H=o("2fa4"),z=(o("d263"),o("c5f6"),o("8308"),o("3a66")),R=o("7560"),J=o("80d2");function q(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function G(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?q(o,!0).forEach((function(e){Object(h["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):q(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var K=Object(b["a"])(Object(z["a"])("bar",["height","window"]),v["a"],R["a"]).extend({name:"v-system-bar",props:{height:[Number,String],lightsOut:Boolean,window:Boolean},computed:{classes:function(){return G({"v-system-bar--lights-out":this.lightsOut,"v-system-bar--absolute":this.absolute,"v-system-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-system-bar--window":this.window},this.themeClasses)},computedHeight:function(){return this.height?isNaN(parseInt(this.height))?this.height:parseInt(this.height):this.window?32:24},styles:function(){return{height:Object(J["f"])(this.computedHeight)}}},methods:{updateApplication:function(){return this.$el?this.$el.clientHeight:this.computedHeight}},render:function(t){var e={staticClass:"v-system-bar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),Object(J["q"])(this))}}),Q=o("8654"),U=Object(l["a"])(c,n,a,!1,null,"2c1ccf79",null);e["default"]=U.exports;m()(U,{VAvatar:u["a"],VBtn:f["a"],VBtnToggle:k,VCard:x["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VChip:_["a"],VCol:A["a"],VContainer:D["a"],VDataTable:O["a"],VDialog:j["a"],VDivider:S["a"],VFlex:V,VForm:I["a"],VIcon:M["a"],VLayout:P,VList:N["a"],VListItem:B["a"],VListItemAvatar:Y["a"],VListItemContent:F["a"],VListItemTitle:F["c"],VPagination:E["a"],VRow:L["a"],VSnackbar:$["a"],VSpacer:H["a"],VSystemBar:K,VTextField:Q["a"]})},"7e58":function(t,e,o){},8308:function(t,e,o){},e67d:function(t,e,o){},fef6:function(t,e,o){"use strict";var n=o("e67d"),a=o.n(n);a.a}}]);
//# sourceMappingURL=chunk-a48d296e.5d8cf467.js.map